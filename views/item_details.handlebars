{{> search_bar }}

<hr/>
<div class="container">
    <div class="row my-5 py-5 border">
         {{!-- photo carosel --}}
        <div class="col-md-8">
            <div id="images-carousel" class="carousel slide" data-bs-ride="carousel">

             <!-- Indicators/dots -->
    
                <div class="carousel-indicators">
                    {{#each data.item.images}}
                        <button type="button" data-bs-target="#images-carousel" data-bs-slide-to="{{this.index}}" class="active"></button>
                    {{/each}}    
                </div>
        

                <!-- The slideshow/carousel -->
                <div class="carousel-inner" style="background-color:rgb(186, 240, 240)">
                {{#each data.item.images}}
                    {{#unless this.index}}
                        <div class="carousel-item active">
                            <img src="/api/images/{{this.id}}" alt="{{item.title}}" class="d-block h-100 w-100">
                        </div>
                    {{else}}
                        <div class="carousel-item">
                            <img src="/api/images/{{this.id}}" alt="{{data.item.title}}" class="d-block h-100 w-100">
                        </div>
                    {{/unless}}
                {{/each}}
                </div>

                <!-- Left and right controls/icons -->
                <button class="carousel-control-prev" type="button" data-bs-target="#images-carousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon bg-danger"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#images-carousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon bg-danger"></span>
                </button>
            </div>
        </div>
        {{!-- item details --}}
        <div class="col-md-4 pt-5">
            <h2>{{data.item.title}}</h2>
            <p>{{data.item.description}}</p>
            <p>Price: ${{data.item.price}}</p>
            <p>Distance: {{data.item.distance}} km</p>
            <h4>Contact Info:</h4>
            <p class="ms-4">{{data.item.phone_email}}</p>

        </div>
    </div>
</div>


{{!-- suggested items --}}
<div class="col-12 col-md-9 ms-5  mt-5">
    <hr>
    <h3>Suggested Items</h3>
    <hr>
    <div class="row border-top">
        {{#each data.suggestedItems}}
        <div class="col-12 col-md-4 col-xl-3 border item" data-item-id="{{this.id}}">
            <a href="#"><img src="/api/images/{{this.images.0.id}}" alt="" width="200" /></a>
            <a href="#"><h4>{{this.title}}</h4></a>
            <p>{{this.description}}</p>
            <p>Price: ${{this.price}}</p>
            {{#if this.distance}}
            <p>Distance: {{this.distance}} km</p>
            {{/if}}
        </div>
        {{/each}}
    </div>
</div>

<script src="/js/item.js"></script>